# Coordinate calibration 

内、外参标定工具

##  一、内参

###  1.1 params.csv

MATLAB、OpenCV标定后生成的文件。

分为两部分，第一部分(1 - 3行)是内参矩阵；第二部分(4 - 5行)是畸变参数。

#### 1.1.1 内参矩阵

内参矩阵中的主点坐标，是图像中心在像素坐标系中的位置。

```
1341.89536296444,0,1008.21916835978

0,1340.25589512,567.409350076556

0,0,1
```

第一行：水平焦距,0,主点坐标x值

第二行：0,垂直焦距,主点坐标y值

第三行0,0,1是确保矩阵是一个标准的齐次坐标变换矩阵



#### 1.1.2 畸变系数

```
径向畸变k1，k2，k3
0.0327656165849267,-0.0725272443700812,0.0392682642136266
切向畸变p1，p2，0
0.00358666736113246,0.00287418452326165,0
```







## 二、外参

### 2.1 world_params.csv

包含内外参，外参部分时3 * 4的矩阵。

分为两部分，第一部分(1 - 3行)是旋转矩阵；第二部分(4行)是位移向量。

#### 2.1.1 旋转矩阵

$$
R = 
\left[\begin{matrix}
	x1 & y1 & z1 \\
	x2 & y2 & z2 \\
	x3 & y3 & z3 \\
\end{matrix}\right]
$$

旋转矩阵的每一列表示相机坐标系的一个轴(x、y、z)。那么在世界坐标系中：

列x，表示 **相机坐标系的 x 轴** 在世界坐标系中的方向；

列y，表示 **相机坐标系的 x 轴** 在世界坐标系中的方向；

列z，表示 **相机坐标系的 x 轴** 在世界坐标系中的方向。



#### 2.1.2 位移向量

相机坐标系的原点在世界坐标系中的位置。

表示从世界坐标系的原点到相机坐标系原点的平移。

世界坐标系和相机坐标系的方向不同。
相机实际位置位于世界坐标系的负x方向。
相机的朝向或视角平移向量。



## 三、OpenCV & MatLab

opencv的优势在于多次标定比较快捷，而且标定的结果可以直接用于后续的立体校正、立体匹配中。

matlab的优势在于可以显示重投影误差、3D效果图等，而且可以单张图片单独使用不同的窗口标定等等。